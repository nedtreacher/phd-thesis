---
keep-tex: true
latex-output-dir: ../output
format: pdf
---

#	Characteristics of Pristine Carbon Nanotube & Graphene Field Effect Transistors

```{python none}
import re

# Dictionary to map month abbreviations to numbers
month_mapping = {
    "jan": "1",
    "feb": "2",
    "mar": "3",
    "apr": "4",
    "may": "5",
    "jun": "6",
    "jul": "7",
    "aug": "8",
    "sep": "9",
    "oct": "10",
    "nov": "11",
    "dec": "12"
}

# Read the content of the original .bib file with UTF-8 encoding
with open("references.bib", "r", encoding="utf-8") as file:
    bib_content = file.read()

# Replace month abbreviations with numbers using a single regex
pattern_month = r'month\s*=\s*{([a-z]+)},'
def replace_month(match):
    month_abbrev = match.group(1)
    month_number = month_mapping.get(month_abbrev, month_abbrev)
    return f'month = {{{month_number}}},'

modified_content = re.sub(pattern_month, replace_month, bib_content, flags=re.IGNORECASE)

# Replace "%" with "\%" when not preceded by a backslash
modified_content = re.sub(r'(?<!\\)%', r'\\%', modified_content)

# Write the modified content back to the original .bib file with UTF-8 encoding
with open("references.bib", "w", encoding="utf-8") as file:
    file.write(modified_content)
```

##	Carbon Nanotube Network Morphology

@fig-afm-morphology shows a side-by-side comparison of the surface morphology of carbon nanotube films fabricated using the methods described in @sec-dep-carbon-nanotubes. These images were collected using an atomic force microscope and processed in the manner described in @sec-afm-characterisation. They each show bundles of carbon nanotubes with a range of diameters and lengths, with each bundle containing one or multiple nanotubes. As discussed in previous works using solvent-based deposition techniques for depositing carbon nanotubes, multi-tube bundles form due to strong mutual attraction between nanotubes [@Zheng2017; @Thanihaichelvan2018; @Thanihaichelvan2019; @Nguyen2021]. However, when surfactants are present, they adsorb onto the carbon nanotubes and form a highly repulsive structure able to overcome the strong attraction between nanotubes. This repulsion then keeps the individual carbon nanotubes isolated [@Wenseleers2004; @Shimizu2013]. The diameter range provided by the supplier for the individual carbon nanotubes used is 1.2-1.7 nm, while the length range is 0.3-5.0 $\mu$m (Nanointegris).

::: {#fig-afm-morphology layout="[[47.5,-5,47.5], [-26.25,47.5,-26.25]]"}

![Solvent-based deposition](figures/ch5/Ned_NTQ24_20220125_00235.png){#fig-bundled-network}

![Dropcast surfactant-based deposition](figures/ch5/Ned_NTQ8C7_w4_pristine_00084_20210428(2).png){#fig-dropcast-network}

![Steam-assisted dropcast surfactant-based deposition](figures/ch5/Ned_NGQ14D2_W4_pristine_20220713_00567.png){#fig-steaming-network}

2.5 $\mu$m x 2.5 $\mu$m atomic force microscope images of carbon nanotube films deposited using various methods. NOTE NEED TO ADD EXAMPLES OF SURFACTANT BASED DEPOSITION POST-ANNEALLING!!!
:::

The distribution of the deposited carbon nanotubes was modelled to quantatively understand the effect of the various methods used on the resulting network morphology. The diameter range of deposited single-walled carbon nanotubes can be modelled via a normal or Gaussian distribution [@Thanihaichelvan2018; @Liu2013; @Vobornik2023]. However, when we extract and bin the height profiles from the 2.5 $\mu$m x 2.5 $\mu$m AFM images in @fig-afm-morphology, the histograms do not follow a normal distribution. The AFM histogram shape results from the SiO$_2$ substrate and carbon nanotubes both exhibiting a degree of surface roughness, which is partially due to the presence of atmospheric contaminants. In the case of the surfactant-deposited networks, residual surfactant may also contribute to surface roughness [@Vobornik2023]. 

It has been demonstrated that the surface roughness of a bare SiO$_2$ substrate can also be modelled with a normal distribution. This normal distribution has a spread of approximately \pm1 nm about the mean, which can be set as the reference or zero point for other height measurements [@Velicky2015]. As both the carbon nanotube and silicon dioxide background heights can each be modelled using a normal distribution, we therefore assume that a linear combination of normal distributions can be used to model the AFM histograms in @fig-afm-morphology. 

::: {#fig-afm-histograms layout="[[47.5,-5,47.5], [-26.25,47.5,-26.25]]"}

![Solvent based deposition](figures/ch5/Ned_NTQ24_20220125_00235_histogram.png){#fig-bundled-network-histogram}

![Dropcast surfactant-based deposition](figures/ch5/Ned_NTQ8C7_w4_pristine_00084_20210428(2)_histogram.png){#fig-dropcast-network-histogram}

![Steam-assisted dropcast surfactant-based deposition ](figures/ch5/Ned_NGQ14D2_W4_pristine_20220713_00567_histogram.png){#fig-steaming-network-histogram}

Surface profile histograms extracted from the 2.5 $\mu$m x 2.5 $\mu$m atomic force microscope images seen in @fig-afm-morphology, each fitted with a linear combination of normal distributions. The component normal distributions corresponding to each linear combination are also shown.
:::

By using the analysis discussed in @sec-histogram-analysis, we find that a linear combination of normal distribution fits to all histograms corresponding to the AFM images in @fig-afm-morphology with an R-squared value of at least 0.987. The first or left-most distribution for all three figures in @fig-afm-histograms corresponds to the SiO$_2$ substrate roughness, centered at $\sim$ 0 nm and with a standard deviation of 0.4-1.2 nm. For the carbon nanotube film deposited with solvent, the second distribution then corresponds to bundles of carbon nanotubes. If we model bundles as cylinders, and we assume the component nanotubes follow 2D packing and are of equal diameter, we can give an estimate the mean bundle size in terms of number of nanotubes *n* [@Graham1998; @Thanihaichelvan2018].

```{r}
#| label: tbl-circle-packing
#| tbl-cap: Optimised ratio of 2D packed circle diameter to encompassing circle diameter, given to 3 s.f. (encompassing circle diameter = $d$, number of packed circles = $n$, approximate packed circle diameter = $d_n$).\\
#|

knitr::opts_chunk$set(echo = FALSE)
library(knitr)
library(kableExtra)

circle_packing <- read.csv("tables/ch5/circle_packing.csv", sep=",")
circle_packing <- circle_packing[rowSums(is.na(circle_packing)) == 0,]

knitr::kable(circle_packing, col.names = NULL, format = "simple")
```

@tbl-circle-packing shows the relationship between the diameter of a bundle and the constituent diameters of up to nine 2D packed carbon nanotubes within that bundle. The second distribution in @fig-bundled-network-histogram indicates the mean diameter of carbon nanotube bundles is 4.62 nm. Assuming an average carbon nanotube diameter of 1.45 nm, we find a $d_n$/$d$ packing ratio of 0.314, indicating an average bundle composition of $\sim$ 7 nanotubes in @fig-bundled-network-histogram.

For the carbon nanotube networks deposited using surfactant in @fig-afm-histograms, we notice that there are two non-SiO$_2$ distributions present. The mean of the second distribution, the left-most non-SiO$_2$ distribution, falls below the average height for a single carbon nanotube. This attribute indicates that the distribution either represents broken pieces of individual carbon nanotubes, residual surfactant or other atmospheric contamination resistant to acetone and isopropanol rinsing. This contamination distribution is significantly larger for the carbon nanotube devices which used steam in the deposition process. The presence of this contamination histogram distribution was consistently found for all sampled surfactant-deposited film AFM data, while not present for any of the sampled solvent-deposited films.

From @fig-steaming-network, we also see that steam deposited devices have sparsely distributed $\sim$ 10 nm high features visible on their surface which are not present for the other films. These observations may be evidence of trapped water microdroplets on the surface from the steam, or could be from the steam causing surfactant to form persistent features on the surface. The size of this central peak may be useful for determining the extent of contamination in a carbon nanotube film. Such contamination may or may not have implications for biosensing suitability.

In @fig-afm-morphology, we see that carbon nanotubes deposited in a surfactant dispersion form bundles which are significantly thinner than the bundles in the film deposited using solvent. However, it appears despite the presence of surfactant, not all carbon nanotubes are deposited individually. Bundling may occur during the process of deposition onto the substrate, which could disrupt the repulsive forces from the surfactant coating and allow attractive forces to temporarily dominate. From the mean heights of surfactant-deposited films in @fig-afm-histograms, we find $d_n$/$d$ packing ratios of 0.545 and 0.668 for @fig-dropcast-network-histogram and @fig-steaming-network-histogram respectively. By comparing these values to @tbl-circle-packing, we find these films have an average bundle composition of $\sim$ 1 nanotube, indicating the majority of carbon nanotubes deposited are successfully kept isolated by the surfactant. 

It is also important to consider that for all figures in  @fig-afm-morphology, larger height measurements in the carbon nanotube histogram include surface contamination on the carbon nanotubes as well as bundle-bundle junctions. The histogram may also encompass broken nanotube pieces and some silicon oxide surface contamination at the low end of the range.

```{r}
#| label: setup
#| include: false
library(tidyverse)
library(kableExtra)

histogram_parameters <- read.csv("tables/ch5/histogram_parameters.csv", sep=",", check.names=FALSE)
histogram_parameters <- histogram_parameters[rowSums(is.na(histogram_parameters)) == 0,]
```

```{r}
#| tbl-cap: The mean of histogram distributions across three different samples for carbon nanotube films deposited using various methods, along with the mean sample coverage with bundles and mean proportion of multitubed bundles present
#| label: tbl-histogram-parameters

histogram_parameters %>% 
  kable(
    booktabs = TRUE, #LaTeX "booktabs formatting"
    linesep = "", #no linespace
    align = c(rep("l", 1), rep("c", 5)), #aligns col 1 left, all others center
    col.names = c("", names(.)[-1]), #dataframe sets names of each column
  ) %>%
  add_header_above(c(" " = 1, "Distribution mean (nm)" = 3, " " = 2), bold = TRUE) %>% #rows 2,3,4 have a header "Distribution mean (nm)"
  column_spec(1, width = "2.4cm") #first column is 2.4 cm wide

```

-steaming - better coverage!

It is possible that the bundling of surfactant-dispersed carbon nanotubes occurs due to the coffee-ring effect [@Deegan1997; @VanGaalen2021]. The coffee-ring effect refers to a build-up of dispersed solid forming around the edges of a dispersion evaporating on a surface. This process occurs due to the dispersion edges being fixed by surface forces, leading to capillary flow outwards to replace liquid evaporating at the edges, bringing solid material along with it. The presence of vapour is known to disrupt this effect [@Bishop2020]. The 




##	Salt Concentration Sensing with Phosphate Buffered Saline {#sec-dummy-sensing}

-nLOF2020 resist being used leads to devices with less drift!!