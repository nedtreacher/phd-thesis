#	Characteristics of Pristine Carbon Nanotube & Graphene Field Effect Transistors

```{python}
import re

# Dictionary to map month abbreviations to numbers
month_mapping = {
    "jan": "1",
    "feb": "2",
    "mar": "3",
    "apr": "4",
    "may": "5",
    "jun": "6",
    "jul": "7",
    "aug": "8",
    "sep": "9",
    "oct": "10",
    "nov": "11",
    "dec": "12"
}

# Read the content of the original .bib file with UTF-8 encoding
with open("references.bib", "r", encoding="utf-8") as file:
    bib_content = file.read()

# Replace month abbreviations with numbers using a single regex
pattern_month = r'month\s*=\s*{([a-z]+)},'
def replace_month(match):
    month_abbrev = match.group(1)
    month_number = month_mapping.get(month_abbrev, month_abbrev)
    return f'month = {{{month_number}}},'

modified_content = re.sub(pattern_month, replace_month, bib_content, flags=re.IGNORECASE)

# Replace "%" with "\%" when not preceded by a backslash
modified_content = re.sub(r'(?<!\\)%', r'\\%', modified_content)

# Write the modified content back to the original .bib file with UTF-8 encoding
with open("references.bib", "w", encoding="utf-8") as file:
    file.write(modified_content)
```

##	Carbon Nanotube Network Morphology

@fig-afm-morphology shows a side-by-side comparison of the surface morphology of carbon nanotube films fabricated using the methods described in @sec-dep-carbon-nanotubes. These images were collected using an atomic force microscope and processed in the manner described in @sec-afm-characterisation. They each show bundles of carbon nanotubes with a range of diameters and lengths, with each bundle containing one or multiple nanotubes. As discussed in previous works using solvent-based deposition techniques for depositing carbon nanotubes, multi-tube bundles form due to mutual attraction between nanotubes [@Zheng2017; @Thanihaichelvan2018; @Thanihaichelvan2019]. The diameter range provided by the supplier for the individual carbon nanotubes used is 1.2-1.7 nm, while the length range is 0.3-5.0 $\mu$m (Nanointegris). Figures @fig-steaming-network-90 and @fig-steaming-network-99 also show the presence of some non-nanotube contaminants on the substrate surface, which could be tiny amounts of residual photoresist. The presence of residual photoresist is discussed further in @sec-photoresist-contamination. 

::: {#fig-afm-morphology layout="[[47.5,-5,47.5], [47.5,-5,47.5]]"}

![Solvent based deposition](figures/ch5/Ned_NTQ24_20220125_00235.png){#fig-bundled-network}

![Dropcast surfactant based deposition (S-90%)](figures/ch5/Ned_NTQ8C7_w4_pristine_00084_20210428(2).png){#fig-dropcast-network}

![Steam-assisted surfactant based deposition (S-90%)](figures/ch5/Ned_NTQ21C1_W1_PBASEonly_20211116_00057.png){#fig-steaming-network-90}

![Steam-assisted surfactant based deposition (S-99%)](figures/ch5/Ned_NGQ14D2_W4_pristine_20220713_00567.png){#fig-steaming-network-99}

2.5 $\mu$m x 2.5 $\mu$m atomic force microscope images of carbon nanotube films deposited using various methods.
:::

The distribution of the deposited carbon nanotubes was modelled to quantatively understand the effect of the various methods used on the resulting network morphology. The diameter range of deposited single-walled carbon nanotubes can be modelled via a normal or Gaussian distribution [@Thanihaichelvan2018; @Liu2013; @Vobornik2023]. However, when we extract and bin the height profiles from the 2.5 $\mu$m x 2.5 $\mu$m AFM images in @fig-afm-morphology, the histograms do not follow a normal distribution. The AFM histogram shape results from the SiO$_2$ substrate and carbon nanotubes both exhibiting some roughness, which is partially due to surface contamination by atmospheric contaminants. In the case of the surfactant-deposited networks, residual surfactant may also contribute to surface roughness [@Vobornik2023]. However, it has been shown that bare SiO$_2$ substrate has a surface roughness which can also be modelled with a normal distribution. This normal distribution has a spread of approximately \pm1 nm about the mean, which can be set as the reference or zero point for other height measurements [@Velicky2015]. As both the carbon nanotube and silicon dioxide background heights can each be modelled using a normal distribution, we assume that a linear combination of normal distributions can be used to model the AFM histograms in @fig-afm-morphology. 

::: {#fig-afm-histograms layout="[[47.5,-5,47.5], [47.5,-5,47.5]]"}

![Solvent based deposition](figures/ch5/Ned_NTQ24_20220125_00235_histogram.png){#fig-bundled-network-histogram}

![Dropcast surfactant-based deposition (S-90%)](figures/ch5/Ned_NTQ8C7_w4_pristine_00084_20210428(2)_histogram.png){#fig-dropcast-network-histogram}

![Steam-assisted surfactant-based deposition (S-90%)](figures/ch5/Ned_NTQ21C1_W1_PBASEonly_20211116_00057_histogram.png){#fig-steaming-network-90-histogram}

![Steam-assisted surfactant-based deposition (S-99%)](figures/ch5/Ned_NGQ14D2_W4_pristine_20220713_00567_histogram.png){#fig-steaming-network-99-histogram}

Surface profile histograms extracted from the 2.5 $\mu$m x 2.5 $\mu$m atomic force microscope images seen in @fig-afm-morphology, each fitted with a linear combination of normal distributions. The component normal distributions corresponding to each linear combination are also shown.
:::

By using the analysis discussed in @sec-histogram-analysis, we find that a linear combination of normal distribution fits to all histograms corresponding to the AFM images in @fig-afm-morphology with an R-squared value of at least 0.987. The first or left-most distribution for all figures in @fig-afm-histograms corresponds to the SiO$_2$ substrate roughness, centered at $\sim$ 0 nm and with a standard deviation of 0.3-1.1 nm. For the carbon nanotube film deposited with solvent, the second distribution then corresponds to bundles of carbon nanotubes. If we model bundles as cylinders, and we assume the component nanotubes follow 2D packing and are of equal diameter, we can give an estimate the mean bundle size in terms of number of nanotubes *n* [@Graham1998; @Thanihaichelvan2018].

```{r}
#| label: tbl-circle-packing
#| tbl-cap: Optimised diameter ratio of 2D packed circles to that of the encompassing circle, given to 3 s.f. (encompassing circle diameter = $d$, number of packed circles = $n$, approximate packed circle diameter = $d_n$)

knitr::opts_chunk$set(echo = FALSE)
library(knitr)
library(kableExtra)

circle_packing <- read.csv("tables/ch5/circle_packing.csv", sep=",")
circle_packing <- circle_packing[rowSums(is.na(circle_packing)) == 0,]

knitr::kable(circle_packing, col.names = NULL, format = "simple")
```

@tbl-circle-packing shows the relationship between the diameter of a bundle and the constituent diameters of up to nine 2D packed carbon nanotubes within that bundle. The second distribution in @fig-bundled-network-histogram indicates the mean diameter of carbon nanotube bundles is 4.62 nm. Assuming an average carbon nanotube diameter of 1.45 nm, we find a $d_n$/$d$ ratio of 0.314, indicating an average bundle composition of $\sim$ 7 nanotubes in @fig-bundled-network-histogram.



##	Salt Concentration Sensing with Phosphate Buffered Saline {#sec-dummy-sensing}